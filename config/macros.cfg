[gcode_macro CENTER_HEAD]
gcode:
  SAVE_GCODE_STATE
  G90
  G0 X150 Y150 Z30 F8000
  RESTORE_GCODE_STATE


[gcode_macro NOZZLE_WIPE]
gcode:
  SAVE_GCODE_STATE
  G90
  SET_LED LED=bedfront RED=1 GREEN=1 BLUE=0 WHITE=0
  G1 X109 Y15 Z20 F10000
  G1 Y0 Z6.5 F4000
  G1 X56
  G1 X109
  G1 X56
  G1 X109
  SET_LED LED=bedfront RED=0.8 GREEN=0 BLUE=1 WHITE=0
  G1 Z20 
  
  RESTORE_GCODE_STATE

[gcode_macro PRINT_START]
# PRINT_START for the slicer starting script
gcode:
  G32                            ; home all axes
  Z_TILT_ADJUST
  BED_MESH_CALIBRATE
  SET_LED LED=bedfront RED=0 GREEN=0.70588 BLUE=0.72725 WHITE=0
  G1 Z20 F3000                   ; move nozzle away from bed
   

[gcode_macro PRINT_END]
# PRINT_END for the slicer ending script
gcode:
  M400                           ; wait for buffer to clear
  G92 E0                         ; zero the extruder
  G1 E-10.0 F3600                ; retract filament
  G91                            ; relative positioning
  G0 Z1.00 X20.0 Y20.0 F20000    ; move nozzle to remove stringing
  TURN_OFF_HEATERS
  M107                           ; turn off fan
  G1 Z2 F3000                    ; move nozzle up 2mm
  G90                            ; absolute positioning
  G0  X125 Y250 F3600            ; park nozzle at rear
  BED_MESH_CLEAR
  SET_LED LED=bedfront RED=0.8 GREEN=0 BLUE=1 WHITE=0
